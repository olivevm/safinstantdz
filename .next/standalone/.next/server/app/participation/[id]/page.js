(()=>{var e={};e.id=510,e.ids=[510],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},5746:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.a,__next_app__:()=>f,originalPathname:()=>p,pages:()=>d,routeModule:()=>u,tree:()=>o}),a(1815),a(2247),a(5866);var s=a(3191),r=a(8716),i=a(7922),n=a.n(i),c=a(5231),l={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>c[e]);a.d(t,l);let o=["",{children:["participation",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,1815)),"/Users/mac/Desktop/Projects/saf-instant/bakers-challenge/prod/olivier-repo/safinstantdz/app/participation/[id]/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,2247)),"/Users/mac/Desktop/Projects/saf-instant/bakers-challenge/prod/olivier-repo/safinstantdz/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/Users/mac/Desktop/Projects/saf-instant/bakers-challenge/prod/olivier-repo/safinstantdz/app/participation/[id]/page.tsx"],p="/participation/[id]/page",f={require:a,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/participation/[id]/page",pathname:"/participation/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},592:(e,t,a)=>{let s={b23d7cd89dfffaa8466c0d80882c9382b7911f09:()=>Promise.resolve().then(a.bind(a,9597)).then(e=>e.$$ACTION_0),f31a1a7385ddf296da381ae17bcd09c4f82175f0:()=>Promise.resolve().then(a.bind(a,9597)).then(e=>e.getParticipations),ed226a61110d94bff766f577ceda91d6b90a24f7:()=>Promise.resolve().then(a.bind(a,7981)).then(e=>e.$$ACTION_0),f1280fcccd33c4f4b7591617e108b08eb23ca3af:()=>Promise.resolve().then(a.bind(a,7981)).then(e=>e.getOneParticipation),"75fead8a90aae843052f12a716af4e424d898ae2":()=>Promise.resolve().then(a.bind(a,9137)).then(e=>e.getOneParticipationVotes),d61a83ef4d0ae34c8a821cd5eca377713d0b597a:()=>Promise.resolve().then(a.bind(a,9137)).then(e=>e.$$ACTION_0)};async function r(e,...t){return(await s[e]()).apply(null,t)}e.exports={b23d7cd89dfffaa8466c0d80882c9382b7911f09:r.bind(null,"b23d7cd89dfffaa8466c0d80882c9382b7911f09"),f31a1a7385ddf296da381ae17bcd09c4f82175f0:r.bind(null,"f31a1a7385ddf296da381ae17bcd09c4f82175f0"),ed226a61110d94bff766f577ceda91d6b90a24f7:r.bind(null,"ed226a61110d94bff766f577ceda91d6b90a24f7"),f1280fcccd33c4f4b7591617e108b08eb23ca3af:r.bind(null,"f1280fcccd33c4f4b7591617e108b08eb23ca3af"),"75fead8a90aae843052f12a716af4e424d898ae2":r.bind(null,"75fead8a90aae843052f12a716af4e424d898ae2"),d61a83ef4d0ae34c8a821cd5eca377713d0b597a:r.bind(null,"d61a83ef4d0ae34c8a821cd5eca377713d0b597a")}},5295:(e,t,a)=>{Promise.resolve().then(a.bind(a,5376))},7816:(e,t,a)=>{"use strict";a.d(t,{ts:()=>c,gC:()=>i,He:()=>r,vf:()=>l}),a(5424);var s=a(6242),r=(0,s.$)("f31a1a7385ddf296da381ae17bcd09c4f82175f0"),i=(0,s.$)("f1280fcccd33c4f4b7591617e108b08eb23ca3af");(0,s.$)("75fead8a90aae843052f12a716af4e424d898ae2");var n=a(7030);let c=async()=>{let e=(0,n.LP)();return(0,n.zq)({headers:(0,n.zl)(e),method:"GET",url:"https://bakers-backend.shiftin-demo.com/api/auth/me"})},l=async e=>{let t=(0,n.LP)();return(0,n.zq)({data:{participationId:e},headers:(0,n.zl)(t),method:"POST",url:"https://bakers-backend.shiftin-demo.com/api/votes"})}},679:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var s=a(326),r=a(7577),i=a(8349);function n({id:e}){let[t,a]=(0,r.useState)(!1),n=(0,i.ac)({maxWidth:500}),c=(0,r.useCallback)(async()=>{let t=window?.location?.host+"/participation/"+e;try{await navigator.clipboard.writeText(t),a(!0),setTimeout(()=>a(!1),2e3)}catch(e){console.error("Failed to copy the URL",e)}},[e]);return n?(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("button",{type:"button",onClick:c,className:"flex flex flex-col items-center justify-between overflow-hidden rounded-2xl border border-solid border-[#707070] bg-white/5 text-wrap",children:[(0,s.jsxs)("div",{className:"flex flex-col items-start gap-4 p-4",children:[s.jsx("span",{className:"text-heading5 text-[#C2AC6E]",children:"رابط المشاركة"}),(0,s.jsxs)("span",{className:"text-heading5 text-[#CECECE] text-right",children:[" ",window?.location?.host+"/participation/"+e]})]}),s.jsx("div",{className:"relative h-full w-full items-center justify-center border-r border-solid border-[#707070] bg-[#C2AC6E]/35 p-4 text-nowrap",children:s.jsx("span",{className:"relative leading-8 text-heading5 text-white",children:"نسخ رابط"})})]}),t&&s.jsx("div",{className:"absolute right-0 top-full mt-2 p-2 bg-gray-800 text-white text-sm rounded",children:(0,s.jsxs)("div",{className:"flex gap-2 items-center",children:[s.jsx("div",{className:"bg-white w-5 h-5 rounded-full flex items-center justify-center p-1",children:s.jsx("img",{src:"/images/checkmark.svg"})}),s.jsx("span",{className:"text-body-smaller",children:"تم نسخ الرابط إلى الحافظة"})]})})]}):(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("button",{type:"button",onClick:c,className:"flex h-24 flex-row items-center justify-between overflow-hidden rounded-2xl border border-solid border-[#707070] bg-white/5 text-nowrap",children:[(0,s.jsxs)("div",{className:"flex flex-col items-start gap-4 p-4",children:[s.jsx("span",{className:"text-heading5 text-[#C2AC6E]",children:"رابط المشاركة"}),(0,s.jsxs)("span",{className:"text-heading5 text-[#CECECE] text-right",children:[" ",window?.location?.host+"/participation/"+e]})]}),s.jsx("div",{className:"relative h-full items-center justify-center border-r border-solid border-[#707070] bg-[#C2AC6E]/35 p-4 text-nowrap",children:s.jsx("span",{className:"relative top-7 text-heading5 text-white",children:"نسخ رابط"})})]}),t&&s.jsx("div",{className:"absolute right-0 top-full mt-2 p-2 bg-gray-800 text-white text-sm rounded",children:(0,s.jsxs)("div",{className:"flex gap-2 items-center",children:[s.jsx("div",{className:"bg-white w-5 h-5 rounded-full flex items-center justify-center p-1",children:s.jsx("img",{src:"/images/checkmark.svg"})}),s.jsx("span",{className:"text-body-smaller",children:"تم نسخ الرابط إلى الحافظة"})]})})]})}},5376:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var s=a(326),r=a(4333),i=a(5047),n=a(7577),c=a(5322),l=a(679),o=a(2852),d=a(8778);function p({params:e}){let t=new o.S,{data:a,isLoading:p,refetch:f}=(0,c.EW)(e?.id),{mutateAsync:u}=(0,c.rv)(),{data:m}=(0,c.xJ)(),{openAuthPopup:x}=(0,d.a)(),h=(0,i.useRouter)(),g=(0,n.useCallback)(()=>h.back(),[h]),b=(0,n.useCallback)(async()=>{if(!m?.id)return x();let e=await u(a?.id);return await t.invalidateQueries({queryKey:["getOne"]}),await f(),e},[m?.id,a?.id,x,t,f,u]),v=a?.votes?.find(e=>e?.userId===m?.id);return(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{className:"container relative z-50 flex h-auto w-full items-center justify-center bg-black pt-10 lg:h-screen lg:pt-0 lg:hidden",children:s.jsx("div",{children:s.jsx("div",{className:"flex flex-col items-start justify-center gap-0 lg:flex-row lg:gap-10",children:s.jsx("div",{className:"flex w-full flex-col justify-center gap-3 lg:w-1/2 lg:justify-start lg:gap-8",children:s.jsx("img",{src:"/images/logo-challenge.svg",className:"mx-auto max-w-[200px] lg:hidden"})})})})}),(0,s.jsxs)("section",{className:"relative flex flex-col pb-0 pt-28",children:[s.jsx("img",{src:"/images/flour-card3.svg",className:"absolute top-[30%] -right-[20%] h-[700px] overflow-hidden -z-10 hidden rotate-[110deg] lg:block"}),s.jsx("img",{src:"/images/flour-card3.svg",className:"absolute -bottom-96 -right-1/2 h-[700px] overflow-hidden -z-10 block rotate-[110deg] lg:hidden"}),s.jsx("div",{className:"container",children:p?s.jsx("div",{className:"mx-auto h-52 w-52",children:s.jsx(r.y1,{src:"/images/fetch-animation.json",autoplay:!0,loop:!0})}):(0,s.jsxs)("div",{className:"flex flex-col-reverse lg:flex-row items-start lg:items-center gap-10 lg:gap-0 justify-between",children:[(0,s.jsxs)("div",{className:"flex w-full lg:w-1/3 flex-col gap-5",children:[(0,s.jsxs)("button",{type:"button",onClick:g,className:"flex-row items-center justify-start gap-4 hidden lg:flex",children:[s.jsx("img",{src:"/images/ico-arrow-down.svg",className:"w-5 -rotate-90"}),s.jsx("span",{className:"text-heading3",children:" رجوع "})]}),s.jsx("div",{className:"text-heading3 text-white lg:text-[48px] text-center lg:text-start",children:a?.fullName}),(0,s.jsxs)("div",{className:"font-secondary flex flex-row items-center gap-3 mx-auto lg:mx-0",children:[(0,s.jsxs)("span",{className:"text-heading2 text-white",children:[" ",a?.votes?.length," "]}),(0,s.jsxs)("span",{className:"text-heading3 -mb-5 text-[#C2AC6E]",children:[" ","(صوت)"," "]})]}),s.jsx("hr",{className:"mb-5 block h-[1px] w-full text-[#C2AC6E]"}),(0,s.jsxs)("div",{className:"flex flex-row items-center gap-8",children:[s.jsx("div",{className:"relative h-16 w-16 rounded-full bg-[#C2AC6E]",children:s.jsx("img",{src:"https://bakers-backend.shiftin-demo.com"+a?.chef?.profilePicture,className:"-mt-4"})}),(0,s.jsxs)("span",{className:"text-heading4 text-white",children:["فريق ",a?.chef?.fullNameAr]})]}),s.jsx(l.Z,{id:a?.id}),v?(0,s.jsxs)("button",{type:"button",disabled:!0,className:"btn btn-primary vote-btn group/btn mt-5 cursor-not-allowed gap-3",children:[s.jsx("img",{src:"/images/ico-heart-filled.svg"}),s.jsx("span",{children:" تم تصويت "})]}):(0,s.jsxs)("button",{type:"button",className:"btn vote-btn group/btn mt-5 gap-3 max-[768px]:mx-auto",onClick:b,children:[s.jsx("img",{src:"/images/ico-heart-empty.svg",className:"block group-hover/btn:hidden"}),s.jsx("img",{src:"/images/ico-heart-filled.svg",className:"hidden group-hover/btn:block"}),s.jsx("span",{children:" صوت "})]})]}),(0,s.jsxs)("div",{className:"relative",children:[s.jsx("div",{className:"absolute -top-14",children:(0,s.jsxs)("button",{type:"button",onClick:g,className:"flex flex-row items-center justify-start gap-4 lg:hidden",children:[s.jsx("img",{src:"/images/ico-arrow-down.svg",className:"w-5 -rotate-90"}),s.jsx("span",{className:"text-heading3",children:" رجوع "})]})}),s.jsx("img",{src:`https://bakers-backend.shiftin-demo.com/${a?.participationPicture}`,className:"h-[100vw] w-[100vw] lg:h-[500px] lg:w-[500px] rounded-[20px] object-cover"}),s.jsx("img",{src:"/images/vote-card-border.svg",className:"absolute left-0 top-0 -rotate-1 scale-105 w-screen h-[100vw] lg:w-auto lg:h-auto"})]})]})}),s.jsx("img",{src:"/images/single-flour-left.svg",className:"absolute -top-24 -left-24 -z-10 block lg:hidden"}),s.jsx("img",{src:"/images/single-flour-left.svg",className:"absolute top-0 rotate-45 left-2/4 -z-10 block lg:hidden"}),s.jsx("img",{src:"/images/single-flour-left.svg",className:"absolute -top-16 -left-[15%] -z-10 hidden h-[800px] lg:block"})]})]})}},5322:(e,t,a)=>{"use strict";a.d(t,{xJ:()=>n,EW:()=>i,rv:()=>l});var s=a(7816),r=a(4412);let i=e=>(0,r.a)({queryKey:["getOne",e],queryFn:()=>(0,s.gC)(e),enabled:!!e});a(2894);let n=()=>(0,r.a)({queryKey:["getCurrentUser"],queryFn:async()=>await (0,s.ts)()});var c=a(119);let l=()=>(0,c.D)({mutationKey:["voteForParticipation"],mutationFn:e=>(0,s.vf)(e)})},2894:(e,t,a)=>{"use strict";a.d(t,{J:()=>i});var s=a(7816),r=a(4412);let i=(e,t,a)=>(0,r.a)({queryKey:["listings",e,a],queryFn:()=>(0,s.He)(e,t,a),enabled:!!e})},7030:(e,t,a)=>{"use strict";a.d(t,{zl:()=>i.authHeader,zq:()=>r,LP:()=>i.getToken,o4:()=>i.setToken});let s=a(4099).Z.create({headers:{Accept:"application/json","Content-Type":"application/json"}}),r=(e,t)=>s({...e,...t}).then(e=>e.data);var i=a(13)},9137:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$ACTION_0:()=>c,getOneParticipationVotes:()=>n});var s=a(7745);a(6461);var r=a(2886),i=a(5723);let n=(0,s.registerServerReference)("d61a83ef4d0ae34c8a821cd5eca377713d0b597a",c);async function c(e){return(0,r.customInstance)({url:`https://bakers-backend.shiftin-demo.com/api/participations/${e}/votes`,method:"GET"})}(0,i.ensureServerEntryExports)([n]),(0,s.registerServerReference)("75fead8a90aae843052f12a716af4e424d898ae2",n)},7981:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$ACTION_0:()=>c,getOneParticipation:()=>n});var s=a(7745);a(6461);var r=a(2886),i=a(5723);let n=(0,s.registerServerReference)("ed226a61110d94bff766f577ceda91d6b90a24f7",c);async function c(e){return(0,r.customInstance)({method:"GET",url:`https://bakers-backend.shiftin-demo.com/api/participations/${e}`})}(0,i.ensureServerEntryExports)([n]),(0,s.registerServerReference)("f1280fcccd33c4f4b7591617e108b08eb23ca3af",n)},9597:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$ACTION_0:()=>c,getParticipations:()=>n});var s=a(7745);a(6461);var r=a(2886),i=a(5723);let n=(0,s.registerServerReference)("b23d7cd89dfffaa8466c0d80882c9382b7911f09",c);async function c(e,t,a){return(0,r.customInstance)({method:"GET",url:`https://bakers-backend.shiftin-demo.com/api/participations?chefId=${e}&page=${a}&limit=${t}`})}(0,i.ensureServerEntryExports)([n]),(0,s.registerServerReference)("f31a1a7385ddf296da381ae17bcd09c4f82175f0",n)},1815:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>n,__esModule:()=>i,default:()=>c});var s=a(8570);let r=(0,s.createProxy)(String.raw`/Users/mac/Desktop/Projects/saf-instant/bakers-challenge/prod/olivier-repo/safinstantdz/app/participation/[id]/page.tsx`),{__esModule:i,$$typeof:n}=r;r.default;let c=(0,s.createProxy)(String.raw`/Users/mac/Desktop/Projects/saf-instant/bakers-challenge/prod/olivier-repo/safinstantdz/app/participation/[id]/page.tsx#default`)},5839:(e,t,a)=>{},3572:(e,t,a)=>{"use strict";a.d(t,{customInstance:()=>r});let s=a(4843).default.create({headers:{Accept:"application/json","Content-Type":"application/json"}}),r=(e,t)=>s({...e,...t}).then(e=>e.data)},2886:(e,t,a)=>{"use strict";var s=a(3572);a.o(s,"customInstance")&&a.d(t,{customInstance:function(){return s.customInstance}});var r=a(5839);a.o(r,"customInstance")&&a.d(t,{customInstance:function(){return r.customInstance}});var i=a(9516);a.o(i,"customInstance")&&a.d(t,{customInstance:function(){return i.customInstance}})},9516:(e,t,a)=>{"use strict";var s=a(4807);let r=(0,s.createProxy)(String.raw`/Users/mac/Desktop/Projects/saf-instant/bakers-challenge/prod/olivier-repo/safinstantdz/utils/token.ts`),{__esModule:i,$$typeof:n}=r;r.default,(0,s.createProxy)(String.raw`/Users/mac/Desktop/Projects/saf-instant/bakers-challenge/prod/olivier-repo/safinstantdz/utils/token.ts#authHeader`),(0,s.createProxy)(String.raw`/Users/mac/Desktop/Projects/saf-instant/bakers-challenge/prod/olivier-repo/safinstantdz/utils/token.ts#getToken`),(0,s.createProxy)(String.raw`/Users/mac/Desktop/Projects/saf-instant/bakers-challenge/prod/olivier-repo/safinstantdz/utils/token.ts#setToken`)},7481:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var s=a(6621);let r=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[948,114,621,289,317],()=>a(5746));module.exports=s})();